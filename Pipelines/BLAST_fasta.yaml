Global_params:
    Default_wait: 10
    Main: CWD
    Qsub_opts: -V -cwd
    Qsub_q: bioinfo.q
    module_path: C:\Users\sklarz.BGU-USERS\Documents\python_pipeline_gitlab\python_pipeline\additional_modules\additional_modules_release_1.1.0
Vars:
    paths:
        makeblastdb:    /path/to/makeblastdb
        blastx:         /path/to/blastx
        parse_blast:    Rscript /path/to/parse_blast.R
        compare_blast_parsed_reports:    Rscript /path/to/compare_blast_parsed_reports.R
    databases:
        uniprot_sprot:  /path/to/uniprot_sprot.fasta
        VFDB:           /path/to/VFDB.tsv
Step_params:
    merge1:
        module: merge
        script_path: cat
    mkblst1:
        module: makeblastdb
        base: merge1
        script_path: {Vars.paths.makeblastdb}
        scope: sample
        qsub_params:
            -pe: shared 20
        redirects:
            -dbtype: nucl
    tbl_blst:
        module: blast
        base: mkblst1
        script_path: {Vars.paths.blastx}
        qsub_params:
            -pe: shared 20
            queue: all.q
        fasta2use: nucl
        scope: sample
        redirects:
            -evalue: 0.0001
            -num_descriptions: 20
            -num_threads: 20
            -outfmt: '"6 qseqid sallseqid qlen slen qstart qend sstart send length
                evalue bitscore score pident qframe"'
            -query: {Vars.databases.uniprot_sprot}
    parse_tbl_blst:
        module: parse_blast
        base: tbl_blst
        script_path: {Vars.paths.parse_blast}
        blast_merge_path: {Vars.paths.compare_blast_parsed_reports}
        scope:  sample
        redirects:
            --dbtable: {Vars.paths.VFDB}
            --max_evalue: 1e-7
            --min_bitscore: 100
            --names: '"qseqid sallseqid qlen slen qstart qend sstart send length evalue
                bitscore score pident qframe"'
