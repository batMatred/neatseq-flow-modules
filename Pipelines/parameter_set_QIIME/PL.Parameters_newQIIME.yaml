Global_params:
    Default_wait: 100
    Main: CWD
    Qsub_opts: -V -cwd
    Qsub_path: /storage/SGE6U8/bin/lx24-amd64
    Qsub_q: bioinfo.q
    job_limit: C:\Users\sklarz.BGU-USERS\Documents\python_pipeline_gitlab\python_pipeline\release_0.2.0\parameter_sets\job_limit.txt
    module_path: C:\Users\sklarz.BGU-USERS\Documents\python_pipeline_gitlab\python_pipeline\additional_modules\additional_modules_release_1.0.0
Step_params:
    merge1:
        module: merge
        script_path: gzip -cd
    # cutadapt1:
        # module: cutadapt
        # base: merge1
        # script_path: /fastspace/bioinfo_apps/cutadapt/cutadapt_v1.12.1/cutadapt
        # redirects:
            # --too-short-output: '@too_short.fq'
            # -a: '"A{100} -A T{100}"'
    fqc_merge1:
        module: fastqc_html
        base: merge1
        script_path: /path/to/FastQC/fastqc
        qsub_params:
            -pe: shared 15
        redirects:
            --threads: 15
    mask_VS1:
        module: vsearch_masking
        base: merge1
        script_path: /path/to/vsearch
        qsub_params:
            -pe: shared 20
        scope: sample
        type: fastq
        redirects:
            --hardmask: null
            --qmask: dust
            --threads: 20
    # fqc_trim_masked:
        # module: fastqc_html
        # base: mask_VS1
        # script_path: /path/to/FastQC/fastqc
        # qsub_params:
            # -pe: shared 15
        # redirects:
            # --threads: 15
    # trim1:
        # module: trimmo
        # base: cutadapt1
        # script_path: java -jar trimmomatic-0.32.jar
        # qsub_params:
            # -pe: shared 20
            # node: node1
        # spec_dir: /path/to/Trimmomatic_dir/
        # todo: LEADING:20 TRAILING:20
        # redirects:
            # -threads: 20
    # fqc_trim1:
        # module: fastqc_html
        # base: trim1
        # script_path: /path/to/FastQC/fastqc
        # qsub_params:
            # -pe: shared 15
        # redirects:
            # --threads: 15
    q_prep_1:
        module: qiime_prep
        base: merge1
        script_path: /path/to/QIIME/bin/join_paired_ends.py
        setenv:
        - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
        - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local"
        - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
        - QIIME_CONFIG_FP="/fastspace/bioinfo_apps/qiime/qiime_config_20160531"
        - RDP_JAR_PATH="/fastspace/bioinfo_apps/qiime/local/rdp_classifier_2.2/rdp_classifier-2.2.jar"
        join: join        # none, join, join_cat(not implemented)
        # join_algo: fastq-join
        parameters: C:\Users\sklarz.BGU-USERS\Documents\python_pipeline_gitlab\python_pipeline\release_0.2.0\parameter_sets\parameter_set_QIIME\qiime1_params.txt
        unjoined: forward
        redirects:
            --pe_join_method: fastq-join
    q_demult_1:
        module: qiime_demult
        base: q_prep_1
        script_path: /path/to/QIIME/bin/multiple_split_libraries_fastq.py
        setenv:    
            - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" 
            - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
        redirects:
            --demultiplexing_method: sampleid_by_file
            --include_input_dir_path: null
            --parameter_fp: C:\Users\sklarz.BGU-USERS\Documents\python_pipeline_gitlab\python_pipeline\release_0.2.0\parameter_sets\parameter_set_QIIME\qiime1_params.txt
            --remove_filepath_in_name: null
    q_chimera_usrch:
        module: qiime_chimera
        base: q_demult_1
        setenv:
            - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin" 
            - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" 
            - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5" 
            - RDP_JAR_PATH="/fastspace/bioinfo_apps/qiime/local/rdp_classifier_2.2/rdp_classifier-2.2.jar"  
            - QIIME_CONFIG_FP="/fastspace/bioinfo_apps/qiime/qiime_config" 
        # script_path:   /path/to/QIIME/bin/parallel_identify_chimeric_seqs.py
        script_path:           /path/to/QIIME/bin/identify_chimeric_seqs.py
        method:         usearch61 # Or ChimeraSlayer. Will guess depending on existing files.
        # method:         ChimeraSlayer. Will guess depending on existing files.
        # qsub_params:
            # -pe:        shared 20
        redirects:
            # --jobs_to_start:              20
            --aligned_reference_seqs_fp:  /gpfs0/bioinfo/databases/SILVA/SILVA_128_QIIME_release/rep_set_aligned/97/97_otus_aligned.fasta
            --reference_seqs_fp: /storage16/users/bioadm/ess_databases/SILVA/SILVA_128_QIIME_release/rep_set/rep_set_all/97/97_otus.fasta
    q_pick_otu_1:
        module: qiime_pick_otus
        base: q_chimera_usrch
        script_path: /path/to/QIIME/bin/pick_otus.py
        setenv: PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
        qsub_params:
            -pe:
            - shared 20
            - shared 20
        redirects:
            --parameter_fp: C:\Users\sklarz.BGU-USERS\Documents\python_pipeline_gitlab\python_pipeline\release_0.2.0\parameter_sets\parameter_set_QIIME\qiime1_params.txt
            --threads: 20
    q_rep_set_1:
        module: qiime_pick_rep_set
        base: q_pick_otu_1
        script_path: /path/to/QIIME/bin/pick_rep_set.py
        setenv:
            - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" 
            - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
    q_align_1:
        module: qiime_align_seqs
        base: q_rep_set_1
        script_path: /path/to/QIIME/bin/parallel_align_seqs_pynast.py
        setenv:
            - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" 
            - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
            - QIIME_CONFIG_FP="/fastspace/bioinfo_apps/qiime/qiime_config"
        redirects:
            --jobs_to_start: 20
            --retain_temp_files: null
    # q_chimera_CS:
        # module: qiime_chimera
        # base: q_align_1
        # script_path: /path/to/QIIME/bin/parallel_identify_chimeric_seqs.py
        # setenv: PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            # PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
            # QIIME_CONFIG_FP="/fastspace/bioinfo_apps/qiime/qiime_config_20160531"  RDP_JAR_PATH="/fastspace/bioinfo_apps/qiime/local/rdp_classifier_2.2/rdp_classifier-2.2.jar"
        # redirects:
            # --aligned_reference_seqs_fp: /fastspace/bioinfo_apps/qiime/usr/local/lib/python2.7/site-packages/qiime_default_reference/gg_13_8_otus/rep_set_aligned/85_otus.pynast.fasta
            # --jobs_to_start: 20
    q_filt_align_1:
        module: qiime_filter_alignment
        base: q_align_1
        script_path: /path/to/QIIME/bin/filter_alignment.py
        setenv:
            - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" 
            - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
    q_tax_asn_1:
        module: qiime_assign_taxonomy
        base: q_filt_align_1
        script_path: /path/to/QIIME/bin/parallel_assign_taxonomy_rdp.py
        setenv:
            - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" 
            - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
            - RDP_JAR_PATH="/fastspace/bioinfo_apps/qiime/local/rdp_classifier_2.2/rdp_classifier-2.2.jar"
        qsub_params:
            -pe: shared 20
        redirects:
            --confidence: 0.5
            --id_to_taxonomy_fp: /fastspace/bioinfo_apps/qiime/usr/local/lib/python2.7/site-packages/qiime_default_reference/gg_13_8_otus/taxonomy/97_otu_taxonomy.txt
            --rdp_classifier_fp: /fastspace/bioinfo_apps/qiime/local/rdp_classifier_2.2/rdp_classifier-2.2.jar
            --rdp_max_memory: 50000
            --reference_seqs_fp: /fastspace/bioinfo_apps/qiime/usr/local/lib/python2.7/site-packages/qiime_default_reference/gg_13_8_otus/rep_set/97_otus.fasta
            -O: 20
    q_phylo_1:
        module: qiime_make_phylogeny
        base: q_tax_asn_1
        script_path: /path/to/QIIME/bin/make_phylogeny.py
        setenv:
            - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" 
            - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
            - RDP_JAR_PATH="/fastspace/bioinfo_apps/qiime/local/rdp_classifier_2.2/rdp_classifier-2.2.jar"
    q_mk_otu_1:
        module: qiime_make_otu_table
        base: q_phylo_1
        script_path: /path/to/QIIME/bin/make_otu_table.py
        setenv:
            - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" 
            - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
            - RDP_JAR_PATH="/fastspace/bioinfo_apps/qiime/local/rdp_classifier_2.2/rdp_classifier-2.2.jar"
        # skip_summary:
        skip_tsv:
        redirects:
            --mapping_fp: /path/to/qiime1_mapping.txt
    filt_samp_1:
        module: qiime_filter_samples_from_otu_table
        base: q_mk_otu_1
        script_path: /path/to/QIIME/bin/filter_samples_from_otu_table.py
        setenv:
            - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" 
            - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
            - RDP_JAR_PATH="/fastspace/bioinfo_apps/qiime/local/rdp_classifier_2.2/rdp_classifier-2.2.jar"
        redirects:
            --mapping_fp: /fastspace/users/sklarz/rebekka_kohlmann/01.pipeline/mapping.txt
            --min_count: 100000
    q_filt_otus_1:
        module: qiime_filter_otus
        base: filt_samp_1
        script_path: /path/to/QIIME/bin/filter_otus_from_otu_table.py
        setenv:
            - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" 
            - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
        skip_tsv:
        redirects:
            --min_count_fraction: 0.00005
            --min_samples: 10
    q_divers_1:
        module: qiime_divers
        base: q_filt_otus_1
        script_path: /path/to/QIIME/bin/core_diversity_analyses.py
        setenv:
            - PATH="/storage16/app/bioinfo/blast-2.2.22/bin:/fastspace/bioinfo_apps/cdbfasta:/fastspace/bioinfo_apps/microbiomeutil-r20110519/ChimeraSlayer:/path/to/QIIME/bin:/fastspace/bioinfo_apps/qiime/local/bin:/bin:/usr/bin"
            - PYTHONPATH="/fastspace/bioinfo_apps/qiime/usr/local" 
            - HDF5_DIR="/fastspace/bioinfo_apps/qiime/local/hdf5"
        qsub_params:
            -pe: shared 20
        redirects:
            --sampling_depth: 109897
            --categories: Disease,sex
            --jobs_to_start: 20
            --parallel: null
            --parameter_fp: C:\Users\sklarz.BGU-USERS\Documents\python_pipeline_gitlab\python_pipeline\release_0.2.0\parameter_sets\parameter_set_QIIME\qiime1_params.txt
            --suppress_alpha_diversity: null
            --suppress_taxa_summary: null
            # --mapping_fp: /path/to/mapping.txt
